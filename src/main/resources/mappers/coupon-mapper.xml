<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="couponMapper">

<select id="selectCoupon" resultType="Coupon">
SELECT * FROM COUPON WHERE COUPONCODE = #{couponCode}
</select>
<insert id="insertCoupon" parameterType="Coupon">
INSERT INTO COUPON VALUES(#{couponCode},#{couponPoint},#{couponStartDate},#{couponEndDate})
</insert>

<!-- 쿠폰에 쿠폰번호가 있는지 확인 -->
 <select id="checkUseCoupon" resultType="_int">
 
	SELECT COUNT(*) FROM COUPON
 	WHERE COUPONCODE = #{couponCode}

 </select> 
 
 <!-- 테이블에서 포인트만 받아옴  -->
 <select id="selectPoint" resultType="_int">
 	SELECT COUPONPOINT FROM COUPON
 	WHERE COUPONCODE = #{couponCode}
 	<!-- AND COUPONPOINT = #{couponPoint} 쿠폰에서 쿠폰포인트를 알아올려하는건데...ㅠ -->
 
 </select>
 									
<!--   <select id="selectUseCoupon" resultType="UseCoupon">
 
	 SELECT USER_ID FROM USECOUPON
	 WHERE COUPONCODE = #{couponCode}
	 AND USER_ID = #{user_Id}
	 
 </select>   --> 
</mapper>
